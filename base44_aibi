===============================================================================
                      מדריך יצירת מערכת AI-BI עם BASE44
===============================================================================

📋 תיאור כללי:
מדריך מפורט ליצירת מערכת AI-BI מתקדמת באמצעות פלטפורמת BASE44 עם תמיכה מלאה 
בעברית, RTL, חיבור לשרת קיים, ופונקציונאליות מלאה של צ'אט ותובנות.

🎯 מטרת המדריך:
יצירת תחליף מהיר למערכת UI הנוכחית עם שמירה על כל הפונקציונאליות הקיימת.

===============================================================================
                           PROMPT עיקרי למערכת BASE44
===============================================================================

Create a comprehensive Hebrew RTL AI-powered Business Intelligence application called "AI-BI" with COMPLETE Hebrew language support and RIGHT-TO-LEFT layout throughout.

### CRITICAL LANGUAGE & LOCALIZATION REQUIREMENTS:
- **Primary Language**: Hebrew (עברית) - 100% Hebrew interface
- **Text Direction**: Right-to-Left (RTL) throughout entire application
- **Font Requirements**: 
  - Primary font: Heebo (Google Fonts) - Hebrew optimized
  - Fallback: Arial, sans-serif
  - Font size: 14px default, with user controls for 10-24px range
- **Layout Direction**: Natural Hebrew reading flow (right to left)
- **Text Alignment**: Right-aligned everywhere
- **User Experience**: Native Hebrew user experience

### RTL LAYOUT SPECIFICATIONS:
- **Navigation sidebar**: Positioned on the RIGHT side
- **Chat messages**: 
  - User messages: LEFT side with blue background (#3182ce)
  - AI responses: RIGHT side with light green background (#e3f3e6)
- **All text**: Right-aligned
- **Icons and buttons**: RTL-mirrored positioning
- **Scrollbars**: Left-side positioning
- **Input fields**: Right-aligned text entry
- **CSS Direction**: Apply dir="rtl" to main container

### HEBREW UI TRANSLATIONS:
- "Chat ERP" → "צ'אט ERP"
- "Insights" → "תובנות"
- "Dashboards" → "דשבורדים"
- "Settings" → "הגדרות"
- "Send" → "שלח"
- "Type message..." → "הקלד הודעה..."
- "Loading..." → "טוען..."
- "Error" → "שגיאה"
- "Search" → "חפש"
- "Filter" → "סנן"
- "Actions" → "פעולות"
- "History" → "היסטוריה"
- "Profile" → "פרופיל"
- "Logout" → "התנתק"
- "Font Settings" → "הגדרות פונט"
- "Font Size" → "גודל פונט"
- "Font Family" → "סוג פונט"
- "Welcome" → "ברוך הבא"
- "Please wait" → "אנא המתן"
- "Execute" → "בצע"
- "Save" → "שמור"
- "Share" → "שתף"
- "Delete" → "מחק"
- "Edit" → "ערוך"
- "Cancel" → "בטל"
- "Confirm" → "אשר"

### CORE FEATURES:

#### 1. USER AUTHENTICATION:
- **Google Sign-In**: Full Hebrew interface integration
- **User Management**: Profile display in Hebrew
- **Session Management**: Automatic session handling
- **User Display**: Show logged-in user name (אדם זגרי) in header
- **Logout**: Hebrew logout functionality

#### 2. MAIN NAVIGATION:
- **Right Sidebar**: Collapsible navigation menu positioned on RIGHT
- **Navigation Items**: 
  - "צ'אט ERP" (Chat ERP) - Main chat interface
  - "תובנות" (Insights) - Business insights page
  - "דשבורדים" (Dashboards) - Dashboard management
  - "הגדרות" (Settings) - System settings
- **Company Branding**: AI-BI logo and Hebrew branding
- **Responsive Design**: Mobile and desktop Hebrew RTL support

#### 3. CHAT INTERFACE (Main Page):
- **Real-time Chat**: AI assistant conversation interface
- **Message Layout**: 
  - User messages: LEFT side, blue background (#3182ce)
  - AI responses: RIGHT side, light green background (#e3f3e6)
- **Message Features**:
  - Collapse/expand functionality
  - Message history preservation
  - Auto-scroll to latest message
  - Hebrew text support with proper line breaks
- **Input Area**: 
  - Right-aligned Hebrew text input
  - "שלח" (Send) button on LEFT of input
  - Placeholder: "הקלד הודעה..." (Type message...)
- **Font Controls**: 
  - Small "A" button in top-right corner
  - Font size slider (10-24px)
  - Font family selector with Hebrew fonts
  - Settings saved in localStorage
- **Chat History**: 
  - Floating draggable history button
  - Modal popup for chat history
  - Hebrew interface for history management

#### 4. INSIGHTS PAGE:
- **Grid Layout**: RTL-organized insight cards
- **Card Components**: 
  - Hebrew title and description
  - Domain classification (מכירות, מלאי, לקוחות, etc.)
  - Action buttons in Hebrew
  - Right-aligned text content
- **Filtering**: 
  - Domain filter buttons in Hebrew
  - Search functionality with Hebrew support
  - Clear filters option
- **Actions**: 
  - "בצע" (Execute) button
  - "שמור" (Save) functionality
  - "שתף" (Share) options
- **Pagination**: Hebrew pagination controls
- **Responsive Grid**: Mobile-friendly Hebrew layout

### STYLING & DESIGN:
- **Color Scheme**: 
  - Primary: Teal (#319795) - for main actions
  - Secondary: Blue (#3182ce) - for user messages
  - Success: Green (#38a169) - for confirmations
  - Background: Light gray (#f7fafc) - main background
  - AI Messages: Light green (#e3f3e6)
  - Error: Red (#e53e3e) - for error states
- **Typography**: 
  - Primary: Heebo font family
  - Right-aligned text throughout
  - Proper Hebrew line heights
  - Responsive font sizing
- **Layout**: 
  - RTL grid system
  - Hebrew-optimized spacing
  - Mobile-first responsive design

### API INTEGRATIONS:
**Base Server**: https://aibi.cloudline.co.il

#### Chat API Integration:
- **Endpoint**: POST https://aibi.cloudline.co.il/chat
- **Headers**: 
  - Content-Type: application/json
  - Accept: application/json
- **Request Body**:
  ```json
  {
    "message": "user message in Hebrew",
    "chatId": "optional_chat_session_id",
    "messageId": "unique_message_identifier"
  }
  ```
- **Response Structure**:
  ```json
  {
    "reply": "AI response in Hebrew",
    "viz": "visualization_type",
    "data": "chart_data_object",
    "sql": "generated_sql_query",
    "chatId": "session_identifier"
  }
  ```

#### Insights API Integration:
- **Get Insights**: GET https://aibi.cloudline.co.il/api/insights
- **Response**: Array of insight objects with Hebrew content
- **Insight Structure**:
  - id: unique identifier
  - title: Hebrew title
  - description: Hebrew description
  - domain: Hebrew domain classification
  - actions: Available actions array

#### Insight Actions API:
- **Endpoint**: POST https://aibi.cloudline.co.il/api/insights/{id}/actions
- **Request Body**:
  ```json
  {
    "action": "action_type",
    "user": "user_email_from_google_auth"
  }
  ```

### SPECIFIC FUNCTIONALITY:

#### Chat Features:
- **Auto-scroll**: Automatic scroll to bottom on new messages
- **Message Management**: 
  - Collapse/expand individual messages
  - Show SQL queries in monospace Hebrew-compatible font
  - Display charts/tables when data provided
  - Status indicators in Hebrew
- **Session Management**:
  - Save chatId in localStorage
  - Automatic session restoration
  - Chat history persistence
- **Loading States**: Hebrew loading messages and spinners
- **Error Handling**: Hebrew error messages and retry options

#### Insights Features:
- **Display Management**: 50 insights per page with Hebrew pagination
- **Filtering System**: 
  - Domain filter buttons (מכירות, מלאי, לקוחות, etc.)
  - Search with Hebrew text support
  - Clear filters in Hebrew
- **Action System**: 
  - Execute insight actions
  - Progress tracking in Hebrew
  - Success/failure notifications in Hebrew
- **Feedback System**: Hebrew feedback interface for insights

#### Font Control Features:
- **Font Size Control**: 
  - Slider range: 10-24px
  - Apply to all chat messages
  - Real-time preview
- **Font Family Selection**: 
  - Hebrew-optimized fonts
  - Heebo, Arial, Tahoma options
  - Preview text in Hebrew
- **Settings Persistence**: 
  - Save in localStorage
  - Restore on page load
  - User-specific preferences

### TECHNICAL REQUIREMENTS:

#### Hebrew/RTL Support:
- **Text Rendering**: Proper Hebrew character rendering
- **Line Breaking**: Hebrew word wrapping
- **Mixed Content**: Hebrew text with English numbers/terms
- **Input Handling**: Hebrew keyboard support
- **Search**: Hebrew text search functionality

#### Performance:
- **Loading States**: Hebrew loading indicators
- **Error Handling**: Hebrew error messages
- **API Timeouts**: Hebrew timeout messages
- **Retry Logic**: Hebrew retry interfaces

#### Storage:
- **localStorage**: 
  - Chat preferences
  - Font settings
  - Session data
  - User preferences
- **Session Management**: 
  - Google Auth session
  - Chat session persistence
  - Auto-logout handling

#### Responsive Design:
- **Mobile RTL**: Mobile-optimized Hebrew layout
- **Desktop RTL**: Full-screen Hebrew interface
- **Tablet Support**: Medium-screen Hebrew optimization
- **Touch Support**: Hebrew touch interfaces

### SAMPLE INITIAL GREETING:
When the chat interface loads, automatically send this message to the API:
"שלום.. שמי אדם זגרי, מנכ״ל החברה. אנא הצג את עצמך בקצרה ותן דוגמאות לשאלות."

### ADVANCED FEATURES:

#### Chart Support:
- **Pie Charts**: For categorical data with Hebrew labels
- **Bar Charts**: For numerical comparisons with Hebrew legends
- **Line Charts**: For trend analysis with Hebrew axes
- **KPI Displays**: Single metric cards with Hebrew units
- **Data Tables**: Detailed Hebrew data tables with sorting

#### Message Management:
- **Status Indicators**: Hebrew status messages
- **Message Actions**: Copy, retry, delete with Hebrew labels
- **Export Functions**: Hebrew export options
- **History Management**: Hebrew history interface

#### User Experience:
- **Animations**: Smooth Hebrew-friendly transitions
- **Notifications**: Hebrew toast notifications
- **Confirmations**: Hebrew confirmation dialogs
- **Help System**: Hebrew help text and tooltips

### DEPLOYMENT REQUIREMENTS:
- **CORS Support**: Enable cross-origin requests to aibi.cloudline.co.il
- **SSL Support**: HTTPS connections
- **Mobile Optimization**: Hebrew mobile interface
- **Performance**: Fast Hebrew text rendering
- **Accessibility**: Hebrew accessibility features

Create this as a single-page application with proper Hebrew navigation between chat and insights sections, maintaining RTL layout throughout and ensuring all user interactions feel natural for Hebrew speakers.

===============================================================================
                              הוראות הפעלה
===============================================================================

1. היכנס לאתר BASE44: https://base44.com
2. צור חשבון חדש או התחבר
3. לחץ על "Start Building"
4. העתק והדבק את הPROMPT המלא לעיל
5. לחץ על "Build" ואפשר ל-AI לעבוד
6. בדוק את התוצאה ובצע התאמות לפי הצורך
7. פרסם את האפליקציה

===============================================================================
                              הערות חשובות
===============================================================================

⚠️ נקודות לתשומת לב:
- וודא שה-CORS מוגדר נכון לחיבור לשרת
- בדוק שההתחברות בגוגל עובדת
- אמת שהעברית מוצגת נכון
- וודא שה-RTL עובד בכל הדפים

🔧 אם יש בעיות:
- נסה לפשט את הPROMPT בהתחלה
- בדוק חיבור ל-API לפני הוספת תכונות
- התחל עם צ'אט בסיסי ואז הוסף תכונות

📈 הרחבות אפשריות:
- תמיכה במספר שפות
- אפשרויות נושא כהה/בהיר
- התראות מתקדמות
- יצוא נתונים מתקדם

===============================================================================
                                 סיום
===============================================================================

מדריך זה מספק בסיס מלא ליצירת מערכת AI-BI מתקדמת עם BASE44.
לשאלות נוספות או הרחבות, עיין בקובץ ההרחבה הנוסף.

תאריך יצירה: 17/07/2025
גרסה: 1.0 